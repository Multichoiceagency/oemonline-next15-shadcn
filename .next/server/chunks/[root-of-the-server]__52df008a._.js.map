{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/enesk/Documents/oemonline-next15-shadcn/lib/env.ts"],"sourcesContent":["export function req(name: string, fallback?: string) {\r\nconst v = process.env[name] ?? fallback\r\nif (!v) throw new Error(`Missing env: ${name}`)\r\nreturn v\r\n}\r\n\r\n\r\nexport const ENV = {\r\n// TecDoc\r\nTECDOC_PROVIDER_ID: req(\"TECDOC_PROVIDER_ID\"),\r\nTECDOC_API_KEY: req(\"TECDOC_API_KEY\"),\r\nTECDOC_LANG_DEFAULT: req(\"TECDOC_LANG_DEFAULT\", \"nl\"),\r\nTECDOC_LANGS: req(\"TECDOC_LANGS\", \"nl,fr\").split(\",\"),\r\nTECDOC_ARTICLE_COUNTRIES: req(\"TECDOC_ARTICLE_COUNTRIES\", \"nl,be,lu\").split(\",\"),\r\nTECDOC_LINKAGE_COUNTRY: req(\"TECDOC_LINKAGE_COUNTRY\", \"nl\"),\r\nTECDOC_BASE_JSON: req(\"TECDOC_BASE_JSON\"),\r\nTECDOC_PLATE_ENABLED: (process.env.TECDOC_PLATE_ENABLED ?? \"true\") === \"true\",\r\nTECDOC_PLATE_COUNTRY: req(\"TECDOC_PLATE_COUNTRY\", \"nl\"),\r\nTECDOC_DOWNLOAD_IMAGES: (process.env.TECDOC_DOWNLOAD_IMAGES ?? \"true\") === \"true\",\r\nTECDOC_DEBUG: (process.env.TECDOC_DEBUG ?? \"false\") === \"true\",\r\n}"],"names":[],"mappings":";;;;;;AAAO,SAAS,IAAI,IAAY,EAAE,QAAiB;IACnD,MAAM,IAAI,QAAQ,GAAG,CAAC,KAAK,IAAI;IAC/B,IAAI,CAAC,GAAG,MAAM,IAAI,MAAM,CAAC,aAAa,EAAE,MAAM;IAC9C,OAAO;AACP;AAGO,MAAM,MAAM;IACnB,SAAS;IACT,oBAAoB,IAAI;IACxB,gBAAgB,IAAI;IACpB,qBAAqB,IAAI,uBAAuB;IAChD,cAAc,IAAI,gBAAgB,SAAS,KAAK,CAAC;IACjD,0BAA0B,IAAI,4BAA4B,YAAY,KAAK,CAAC;IAC5E,wBAAwB,IAAI,0BAA0B;IACtD,kBAAkB,IAAI;IACtB,sBAAsB,CAAC,QAAQ,GAAG,CAAC,oBAAoB,IAAI,MAAM,MAAM;IACvE,sBAAsB,IAAI,wBAAwB;IAClD,wBAAwB,CAAC,QAAQ,GAAG,CAAC,sBAAsB,IAAI,MAAM,MAAM;IAC3E,cAAc,CAAC,QAAQ,GAAG,CAAC,YAAY,IAAI,OAAO,MAAM;AACxD","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/enesk/Documents/oemonline-next15-shadcn/lib/logger.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport function logDebug(label: string, payload: any) {\r\ntry {\r\n// Keep logs compact but structured\r\n// eslint-disable-next-line no-console\r\nconsole.log(`[TecDoc] ${label}:`, JSON.stringify(payload))\r\n} catch {\r\n// ignore\r\n}\r\n}\r\n\r\n\r\nexport function logError(label: string, payload: any) {\r\ntry {\r\n// eslint-disable-next-line no-console\r\nconsole.error(`[TecDoc][ERROR] ${label}:`, JSON.stringify(payload))\r\n} catch {\r\n// ignore\r\n}\r\n}"],"names":[],"mappings":"AAAA,qDAAqD;;;;;;AAC9C,SAAS,SAAS,KAAa,EAAE,OAAY;IACpD,IAAI;QACJ,mCAAmC;QACnC,sCAAsC;QACtC,QAAQ,GAAG,CAAC,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC;IACjD,EAAE,OAAM;IACR,SAAS;IACT;AACA;AAGO,SAAS,SAAS,KAAa,EAAE,OAAY;IACpD,IAAI;QACJ,sCAAsC;QACtC,QAAQ,KAAK,CAAC,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC;IAC1D,EAAE,OAAM;IACR,SAAS;IACT;AACA","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/enesk/Documents/oemonline-next15-shadcn/lib/tecdoc.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { ENV } from \"@/lib/env\";\r\nimport { logDebug, logError } from \"@/lib/logger\";\r\n\r\nexport const TecdocOps = {\r\n  // search\r\n  searchTerm: \"articleSearchByTerm\",\r\n  // VRM / VIN / Motor\r\n  byPlate: \"getVehiclesByKeyNumberPlates\",\r\n  byVin: \"getVehiclesByVIN\",\r\n  byMotorId: \"getVehicleIdsByMotor2\",\r\n  // Vehicle reference (names differ per tenant; swap to your exact ops if needed)\r\n  manufacturers: \"getManufacturers\",\r\n  models: \"getModelSeries\",\r\n  types: \"getVehicleIdsByCriteria\",\r\n  // Catalog\r\n  genericArticles: \"getGenericArticles\",\r\n  // Articles\r\n  articleById: \"getArticleDirectSearchById\",\r\n  articleImages: \"getArticleImages\",\r\n} as const;\r\n\r\nexport type TecdocResource =\r\n  | (typeof TecdocOps)[keyof typeof TecdocOps]\r\n  | string;\r\n\r\nexport async function tecdocCall<T = any>(\r\n  resource: TecdocResource,\r\n  params: Record<string, any> = {},\r\n  init?: RequestInit\r\n): Promise<T> {\r\n  const controller = new AbortController();\r\n  const timeout = setTimeout(() => controller.abort(), 15000);\r\n  const body = {\r\n    provider: Number(ENV.TECDOC_PROVIDER_ID),\r\n    locale: ENV.TECDOC_LANG_DEFAULT,\r\n    country: ENV.TECDOC_LINKAGE_COUNTRY,\r\n    resource, // << important\r\n    // \"defensive\" params for common variations\r\n    lang: ENV.TECDOC_LANG_DEFAULT,\r\n    countryCode: ENV.TECDOC_LINKAGE_COUNTRY,\r\n    articleCountry: ENV.TECDOC_ARTICLE_COUNTRIES,\r\n    ...params,\r\n  };\r\n\r\n  if (ENV.TECDOC_DEBUG)\r\n    logDebug(\"REQUEST\", { url: ENV.TECDOC_BASE_JSON, body });\r\n\r\n  try {\r\n    const res = await fetch(ENV.TECDOC_BASE_JSON, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n        \"X-Api-Key\": ENV.TECDOC_API_KEY,\r\n      },\r\n      body: JSON.stringify(body),\r\n      signal: controller.signal,\r\n      ...init,\r\n    });\r\n\r\n    clearTimeout(timeout);\r\n\r\n    const text = await res.text();\r\n    const json = safeJson(text);\r\n\r\n    if (!res.ok) {\r\n      logError(\"RESPONSE\", {\r\n        status: res.status,\r\n        statusText: res.statusText,\r\n        body: text,\r\n      });\r\n      throw new TecdocHttpError(resource, res.status, res.statusText, text);\r\n    }\r\n\r\n    if (ENV.TECDOC_DEBUG)\r\n      logDebug(\"RESPONSE\", {\r\n        status: res.status,\r\n        jsonSummary: summarize(json),\r\n      });\r\n    return json as T;\r\n  } catch (err: any) {\r\n    if (err?.name === \"AbortError\") {\r\n      logError(\"TIMEOUT\", { resource });\r\n      throw new TecdocHttpError(resource, 504, \"Timeout\", \"Request timed out\");\r\n    }\r\n    logError(\"FETCH_ERROR\", { resource, message: String(err?.message || err) });\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport class TecdocHttpError extends Error {\r\n  constructor(\r\n    public resource: string,\r\n    public status: number,\r\n    public statusText: string,\r\n    public rawBody?: string\r\n  ) {\r\n    super(`TecDoc ${resource} ${status}: ${statusText}`);\r\n  }\r\n}\r\n\r\nfunction safeJson(text: string) {\r\n  try {\r\n    return JSON.parse(text);\r\n  } catch {\r\n    return { raw: text };\r\n  }\r\n}\r\n\r\nfunction summarize(obj: any) {\r\n  try {\r\n    if (!obj) return obj;\r\n    const status = obj.status ?? obj.Status ?? undefined;\r\n    const hasData = obj.data || obj.Data || obj.result || obj.Result;\r\n    const len = Array.isArray(hasData?.array)\r\n      ? hasData.array.length\r\n      : undefined;\r\n    return { status, hasData: !!hasData, len };\r\n  } catch {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nexport function qp(req: Request, key: string, dflt?: string) {\r\n  const url = new URL(req.url);\r\n  return (url.searchParams.get(key) ?? dflt)?.trim();\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/enesk/Documents/oemonline-next15-shadcn/app/api/categories/route.ts"],"sourcesContent":["// app/api/categories/route.ts\r\nimport { NextResponse } from \"next/server\"\r\nimport { tecdocCall, TecdocOps, qp } from \"@/lib/tecdoc\"\r\n\r\nexport const dynamic = \"force-dynamic\"\r\n\r\nexport async function GET(req: Request) {\r\n  const op = qp(req, \"operation\", TecdocOps.genericArticles) ?? TecdocOps.genericArticles\r\n  const data = await tecdocCall(op, { })\r\n  return NextResponse.json(data, { headers: { \"Cache-Control\": \"public, max-age=86400\" } })\r\n}\r\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;;;AAC9B;AACA;;;AAEO,MAAM,UAAU;AAEhB,eAAe,IAAI,GAAY;IACpC,MAAM,KAAK,IAAA,mKAAE,EAAC,KAAK,aAAa,0KAAS,CAAC,eAAe,KAAK,0KAAS,CAAC,eAAe;IACvF,MAAM,OAAO,MAAM,IAAA,2KAAU,EAAC,IAAI,CAAE;IACpC,OAAO,6TAAY,CAAC,IAAI,CAAC,MAAM;QAAE,SAAS;YAAE,iBAAiB;QAAwB;IAAE;AACzF","debugId":null}}]
}