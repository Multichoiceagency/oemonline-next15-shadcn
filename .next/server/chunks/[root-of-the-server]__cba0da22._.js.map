{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/enesk/Documents/oemonline-next15-shadcn/lib/env.ts"],"sourcesContent":["// lib/env.ts\r\nfunction req(name: string): string {\r\n  const v = process.env[name]\r\n  if (!v) throw new Error(`Missing env var: ${name}`)\r\n  return v\r\n}\r\n\r\nfunction boolEnv(name: string, def = false): boolean {\r\n  const v = process.env[name]\r\n  if (v == null) return def\r\n  return [\"1\",\"true\",\"yes\",\"on\"].includes(String(v).toLowerCase())\r\n}\r\n\r\nexport const ENV = {\r\n  TECDOC_BASE_JSON: req(\"TECDOC_BASE_JSON\"),\r\n  TECDOC_API_KEY: req(\"TECDOC_API_KEY\"),\r\n  TECDOC_PROVIDER_ID: Number(req(\"TECDOC_PROVIDER_ID\")), // number\r\n  TECDOC_LANG_DEFAULT: process.env.TECDOC_LANG_DEFAULT ?? \"nl\",\r\n  TECDOC_LINKAGE_COUNTRY: process.env.TECDOC_LINKAGE_COUNTRY ?? \"nl\",\r\n  TECDOC_ARTICLE_COUNTRIES: (process.env.TECDOC_ARTICLE_COUNTRIES ?? \"nl\")\r\n    .split(\",\").map((s) => s.trim()),\r\n\r\n  // ‚Üê belangrijke flags\r\n  TECDOC_PLATE_ENABLED: boolEnv(\"TECDOC_PLATE_ENABLED\", false),\r\n  TECDOC_PLATE_COUNTRY: process.env.TECDOC_PLATE_COUNTRY ?? \"nl\",\r\n}\r\n"],"names":[],"mappings":"AAAA,aAAa;;;;;AACb,SAAS,IAAI,IAAY;IACvB,MAAM,IAAI,QAAQ,GAAG,CAAC,KAAK;IAC3B,IAAI,CAAC,GAAG,MAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE,MAAM;IAClD,OAAO;AACT;AAEA,SAAS,QAAQ,IAAY,EAAE,MAAM,KAAK;IACxC,MAAM,IAAI,QAAQ,GAAG,CAAC,KAAK;IAC3B,IAAI,KAAK,MAAM,OAAO;IACtB,OAAO;QAAC;QAAI;QAAO;QAAM;KAAK,CAAC,QAAQ,CAAC,OAAO,GAAG,WAAW;AAC/D;AAEO,MAAM,MAAM;IACjB,kBAAkB,IAAI;IACtB,gBAAgB,IAAI;IACpB,oBAAoB,OAAO,IAAI;IAC/B,qBAAqB,QAAQ,GAAG,CAAC,mBAAmB,IAAI;IACxD,wBAAwB,QAAQ,GAAG,CAAC,sBAAsB,IAAI;IAC9D,0BAA0B,CAAC,QAAQ,GAAG,CAAC,wBAAwB,IAAI,IAAI,EACpE,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI;IAE/B,sBAAsB;IACtB,sBAAsB,QAAQ,wBAAwB;IACtD,sBAAsB,QAAQ,GAAG,CAAC,oBAAoB,IAAI;AAC5D","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/enesk/Documents/oemonline-next15-shadcn/lib/logger.ts"],"sourcesContent":["// lib/logger.ts\r\nexport function logDebug(label: string, obj?: unknown) {\r\n  try { console.debug(label, obj ?? \"\") } catch {}\r\n}\r\nexport function logError(label: string, obj?: unknown) {\r\n  try { console.error(label, obj ?? \"\") } catch {}\r\n}\r\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;;;AACT,SAAS,SAAS,KAAa,EAAE,GAAa;IACnD,IAAI;QAAE,QAAQ,KAAK,CAAC,OAAO,OAAO;IAAI,EAAE,OAAM,CAAC;AACjD;AACO,SAAS,SAAS,KAAa,EAAE,GAAa;IACnD,IAAI;QAAE,QAAQ,KAAK,CAAC,OAAO,OAAO;IAAI,EAAE,OAAM,CAAC;AACjD","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/enesk/Documents/oemonline-next15-shadcn/lib/tecdoc.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n// lib/tecdoc.ts\r\nimport { ENV } from \"./env\"\r\nimport { logDebug } from \"./logger\"\r\n\r\nexport function qp(req: Request, key: string, fallback?: string): string | undefined {\r\n  const v = new URL(req.url).searchParams.get(key)\r\n  return (v ?? fallback) ?? undefined\r\n}\r\nexport function qpn(req: Request, key: string, fallback?: number): number | undefined {\r\n  const v = new URL(req.url).searchParams.get(key)\r\n  if (v == null) return fallback\r\n  const n = Number(v)\r\n  return Number.isFinite(n) ? n : fallback\r\n}\r\n\r\n/** Mapping van gebruikte TecDoc operations. */\r\nexport const TecdocOps = {\r\n  // voertuigen\r\n  manufacturers: \"getManufacturers\",\r\n  modelSeries: \"getModelSeries\",\r\n  vehicleIdsByCriteria: \"getVehicleIdsByCriteria\",\r\n  vehiclesByPlate: \"getVehiclesByKeyNumberPlates\",\r\n\r\n  // artikelen / merken (optioneel elders gebruikt)\r\n  articles: \"getArticles\",\r\n  brands: \"getBrands\",\r\n  amBrands: \"getAmBrands\",\r\n  articleByIds6: \"getArticleDirectSearchByIds6\",\r\n  articleAssignedByIds6: \"getAssignedArticlesByIds6\",\r\n\r\n  // aliassen\r\n  articleById: \"getArticles\",\r\n  articleImages: \"getArticles\",\r\n} as const\r\nexport type TecdocOpName = typeof TecdocOps[keyof typeof TecdocOps]\r\n\r\n/** Zorg dat page/perPage altijd integers zijn (Pegasus is strikt). */\r\nfunction normalizePaging(params: Record<string, any>) {\r\n  const p: any = { ...params }\r\n  if (typeof p.page === \"object\" && p.page) {\r\n    const n = Number(p.page.number ?? p.page.page ?? 1)\r\n    const s = Number(p.page.size ?? p.page.perPage ?? p.perPage ?? 25)\r\n    p.page = Number.isFinite(n) ? n : 1\r\n    p.perPage = Number.isFinite(s) ? s : 25\r\n  }\r\n  if (!Number.isFinite(p.page)) p.page = 1\r\n  if (!Number.isFinite(p.perPage)) delete p.perPage\r\n  return p\r\n}\r\n\r\nexport async function tecdocCall<T = any>(\r\n  resource: TecdocOpName | string,\r\n  params: Record<string, any>\r\n) {\r\n  const base = ENV.TECDOC_BASE_JSON\r\n  const provider = ENV.TECDOC_PROVIDER_ID\r\n  const lang = params.lang ?? ENV.TECDOC_LANG_DEFAULT\r\n  const country = params.country ?? ENV.TECDOC_LINKAGE_COUNTRY\r\n\r\n  let bodyParams: Record<string, any> = {\r\n    provider,\r\n    lang,\r\n    country,\r\n    countryCode: country,                         // sommige methodes eisen beide\r\n    articleCountry: ENV.TECDOC_ARTICLE_COUNTRIES[0],\r\n    ...params,\r\n  }\r\n  bodyParams = normalizePaging(bodyParams)\r\n\r\n  const payload = { [resource]: bodyParams }\r\n\r\n  logDebug(\"[TecDoc] REQUEST\", { resource, url: base, body: payload })\r\n\r\n  const res = await fetch(base, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"X-Api-Key\": ENV.TECDOC_API_KEY,\r\n    },\r\n    body: JSON.stringify(payload),\r\n    keepalive: true,\r\n  })\r\n\r\n  const text = await res.text().catch(() => \"\")\r\n  if (!res.ok) {\r\n    throw new Error(`TecDoc ${resource} ${res.status}: ${text}`)\r\n  }\r\n\r\n  let json: any = {}\r\n  try { json = text ? JSON.parse(text) : {} } catch {\r\n    throw new Error(`TecDoc ${resource}: invalid JSON response`)\r\n  }\r\n\r\n  logDebug(\"[TecDoc] RESPONSE\", json?.status ? json : { resource, status: 200 })\r\n  return json as T\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/enesk/Documents/oemonline-next15-shadcn/app/api/article-ids-with-state/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { tecdocCall, qp } from \"@/lib/tecdoc\";\r\n\r\nexport const dynamic = \"force-dynamic\";\r\nexport async function GET(req: Request) {\r\n  const brandsCsv = qp(req, \"brandNo\"); // e.g. \"41,146,145\"\r\n  const linkingTargetId = qp(req, \"linkingTargetId\");\r\n  const linkingTargetType = qp(req, \"linkingTargetType\", \"P\");\r\n  const genericArticleId = qp(req, \"genericArticleId\");\r\n  const sort = Number(qp(req, \"sort\", \"1\"));\r\n\r\n  const brandNo = brandsCsv\r\n    ?.split(\",\")\r\n    .map((s) => Number(s.trim()))\r\n    .filter(Boolean);\r\n  const data = await tecdocCall(\"getArticleIdsWithState\", {\r\n    brandNo: brandNo ? { array: brandNo } : undefined,\r\n    genericArticleId: genericArticleId ? Number(genericArticleId) : undefined,\r\n    linkingTargetId: linkingTargetId ? Number(linkingTargetId) : undefined,\r\n    linkingTargetType,\r\n    sort,\r\n  });\r\n  return NextResponse.json(data, {\r\n    headers: { \"Cache-Control\": \"private, max-age=120\" },\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAChB,eAAe,IAAI,GAAY;IACpC,MAAM,YAAY,IAAA,mKAAE,EAAC,KAAK,YAAY,oBAAoB;IAC1D,MAAM,kBAAkB,IAAA,mKAAE,EAAC,KAAK;IAChC,MAAM,oBAAoB,IAAA,mKAAE,EAAC,KAAK,qBAAqB;IACvD,MAAM,mBAAmB,IAAA,mKAAE,EAAC,KAAK;IACjC,MAAM,OAAO,OAAO,IAAA,mKAAE,EAAC,KAAK,QAAQ;IAEpC,MAAM,UAAU,WACZ,MAAM,KACP,IAAI,CAAC,IAAM,OAAO,EAAE,IAAI,KACxB,OAAO;IACV,MAAM,OAAO,MAAM,IAAA,2KAAU,EAAC,0BAA0B;QACtD,SAAS,UAAU;YAAE,OAAO;QAAQ,IAAI;QACxC,kBAAkB,mBAAmB,OAAO,oBAAoB;QAChE,iBAAiB,kBAAkB,OAAO,mBAAmB;QAC7D;QACA;IACF;IACA,OAAO,6TAAY,CAAC,IAAI,CAAC,MAAM;QAC7B,SAAS;YAAE,iBAAiB;QAAuB;IACrD;AACF","debugId":null}}]
}